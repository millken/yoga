/*
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @generated SignedSource<<eeb79cebe91d4719351f1092dd8c246c>>
 * generated by gentest/gentest-driver.ts from gentest/fixtures/YGMinMaxDimensionTest.html
 */

package yoga_test

import (
  "testing"
 "github.com/millken/yoga"
 "github.com/dnsoa/go/assert"
)

func TestMaxWidth(t *testing.T) {
  config := yoga.NewConfig()

  root := yoga.NewNodeWithConfig(config)
  root.SetPositionType(yoga.PositionTypeAbsolute)
  root.SetWidth(100)
  root.SetHeight(100)

  root_child0 := yoga.NewNodeWithConfig(config)
  root_child0.SetMaxWidth(50)
  root_child0.SetHeight(10)
  root.InsertChild(root_child0, 0)
  root.CalculateLayout(yoga.Undefined, yoga.Undefined, yoga.DirectionLTR)

  assert.Equal(t, 0, root.GetComputedLeft())
  assert.Equal(t, 0, root.GetComputedTop())
  assert.Equal(t, 100, root.GetComputedWidth())
  assert.Equal(t, 100, root.GetComputedHeight())

  assert.Equal(t, 0, root_child0.GetComputedLeft())
  assert.Equal(t, 0, root_child0.GetComputedTop())
  assert.Equal(t, 50, root_child0.GetComputedWidth())
  assert.Equal(t, 10, root_child0.GetComputedHeight())

  root.CalculateLayout(yoga.Undefined, yoga.Undefined, yoga.DirectionRTL)

  assert.Equal(t, 0, root.GetComputedLeft())
  assert.Equal(t, 0, root.GetComputedTop())
  assert.Equal(t, 100, root.GetComputedWidth())
  assert.Equal(t, 100, root.GetComputedHeight())

  assert.Equal(t, 50, root_child0.GetComputedLeft())
  assert.Equal(t, 0, root_child0.GetComputedTop())
  assert.Equal(t, 50, root_child0.GetComputedWidth())
  assert.Equal(t, 10, root_child0.GetComputedHeight())
  config.Destroy()
}

func TestMaxHeight(t *testing.T) {
  config := yoga.NewConfig()

  root := yoga.NewNodeWithConfig(config)
  root.SetFlexDirection(yoga.FlexDirectionRow)
  root.SetPositionType(yoga.PositionTypeAbsolute)
  root.SetWidth(100)
  root.SetHeight(100)

  root_child0 := yoga.NewNodeWithConfig(config)
  root_child0.SetWidth(10)
  root_child0.SetMaxHeight(50)
  root.InsertChild(root_child0, 0)
  root.CalculateLayout(yoga.Undefined, yoga.Undefined, yoga.DirectionLTR)

  assert.Equal(t, 0, root.GetComputedLeft())
  assert.Equal(t, 0, root.GetComputedTop())
  assert.Equal(t, 100, root.GetComputedWidth())
  assert.Equal(t, 100, root.GetComputedHeight())

  assert.Equal(t, 0, root_child0.GetComputedLeft())
  assert.Equal(t, 0, root_child0.GetComputedTop())
  assert.Equal(t, 10, root_child0.GetComputedWidth())
  assert.Equal(t, 50, root_child0.GetComputedHeight())

  root.CalculateLayout(yoga.Undefined, yoga.Undefined, yoga.DirectionRTL)

  assert.Equal(t, 0, root.GetComputedLeft())
  assert.Equal(t, 0, root.GetComputedTop())
  assert.Equal(t, 100, root.GetComputedWidth())
  assert.Equal(t, 100, root.GetComputedHeight())

  assert.Equal(t, 90, root_child0.GetComputedLeft())
  assert.Equal(t, 0, root_child0.GetComputedTop())
  assert.Equal(t, 10, root_child0.GetComputedWidth())
  assert.Equal(t, 50, root_child0.GetComputedHeight())
  config.Destroy()
}

func TestMinHeight(t *testing.T) {
  t.Skip()

  config := yoga.NewConfig()

  root := yoga.NewNodeWithConfig(config)
  root.SetPositionType(yoga.PositionTypeAbsolute)
  root.SetWidth(100)
  root.SetHeight(100)

  root_child0 := yoga.NewNodeWithConfig(config)
  root_child0.SetFlexGrow(1)
  root_child0.SetMinHeight(60)
  root.InsertChild(root_child0, 0)

  root_child1 := yoga.NewNodeWithConfig(config)
  root_child1.SetFlexGrow(1)
  root.InsertChild(root_child1, 1)
  root.CalculateLayout(yoga.Undefined, yoga.Undefined, yoga.DirectionLTR)

  assert.Equal(t, 0, root.GetComputedLeft())
  assert.Equal(t, 0, root.GetComputedTop())
  assert.Equal(t, 100, root.GetComputedWidth())
  assert.Equal(t, 100, root.GetComputedHeight())

  assert.Equal(t, 0, root_child0.GetComputedLeft())
  assert.Equal(t, 0, root_child0.GetComputedTop())
  assert.Equal(t, 100, root_child0.GetComputedWidth())
  assert.Equal(t, 60, root_child0.GetComputedHeight())

  assert.Equal(t, 0, root_child1.GetComputedLeft())
  assert.Equal(t, 60, root_child1.GetComputedTop())
  assert.Equal(t, 100, root_child1.GetComputedWidth())
  assert.Equal(t, 40, root_child1.GetComputedHeight())

  root.CalculateLayout(yoga.Undefined, yoga.Undefined, yoga.DirectionRTL)

  assert.Equal(t, 0, root.GetComputedLeft())
  assert.Equal(t, 0, root.GetComputedTop())
  assert.Equal(t, 100, root.GetComputedWidth())
  assert.Equal(t, 100, root.GetComputedHeight())

  assert.Equal(t, 0, root_child0.GetComputedLeft())
  assert.Equal(t, 0, root_child0.GetComputedTop())
  assert.Equal(t, 100, root_child0.GetComputedWidth())
  assert.Equal(t, 60, root_child0.GetComputedHeight())

  assert.Equal(t, 0, root_child1.GetComputedLeft())
  assert.Equal(t, 60, root_child1.GetComputedTop())
  assert.Equal(t, 100, root_child1.GetComputedWidth())
  assert.Equal(t, 40, root_child1.GetComputedHeight())
  config.Destroy()
}

func TestMinWidth(t *testing.T) {
  t.Skip()

  config := yoga.NewConfig()

  root := yoga.NewNodeWithConfig(config)
  root.SetFlexDirection(yoga.FlexDirectionRow)
  root.SetPositionType(yoga.PositionTypeAbsolute)
  root.SetWidth(100)
  root.SetHeight(100)

  root_child0 := yoga.NewNodeWithConfig(config)
  root_child0.SetFlexGrow(1)
  root_child0.SetMinWidth(60)
  root.InsertChild(root_child0, 0)

  root_child1 := yoga.NewNodeWithConfig(config)
  root_child1.SetFlexGrow(1)
  root.InsertChild(root_child1, 1)
  root.CalculateLayout(yoga.Undefined, yoga.Undefined, yoga.DirectionLTR)

  assert.Equal(t, 0, root.GetComputedLeft())
  assert.Equal(t, 0, root.GetComputedTop())
  assert.Equal(t, 100, root.GetComputedWidth())
  assert.Equal(t, 100, root.GetComputedHeight())

  assert.Equal(t, 0, root_child0.GetComputedLeft())
  assert.Equal(t, 0, root_child0.GetComputedTop())
  assert.Equal(t, 60, root_child0.GetComputedWidth())
  assert.Equal(t, 100, root_child0.GetComputedHeight())

  assert.Equal(t, 60, root_child1.GetComputedLeft())
  assert.Equal(t, 0, root_child1.GetComputedTop())
  assert.Equal(t, 40, root_child1.GetComputedWidth())
  assert.Equal(t, 100, root_child1.GetComputedHeight())

  root.CalculateLayout(yoga.Undefined, yoga.Undefined, yoga.DirectionRTL)

  assert.Equal(t, 0, root.GetComputedLeft())
  assert.Equal(t, 0, root.GetComputedTop())
  assert.Equal(t, 100, root.GetComputedWidth())
  assert.Equal(t, 100, root.GetComputedHeight())

  assert.Equal(t, 40, root_child0.GetComputedLeft())
  assert.Equal(t, 0, root_child0.GetComputedTop())
  assert.Equal(t, 60, root_child0.GetComputedWidth())
  assert.Equal(t, 100, root_child0.GetComputedHeight())

  assert.Equal(t, 0, root_child1.GetComputedLeft())
  assert.Equal(t, 0, root_child1.GetComputedTop())
  assert.Equal(t, 40, root_child1.GetComputedWidth())
  assert.Equal(t, 100, root_child1.GetComputedHeight())
  config.Destroy()
}

func TestJustifyContentMinMax(t *testing.T) {
  config := yoga.NewConfig()

  root := yoga.NewNodeWithConfig(config)
  root.SetJustifyContent(yoga.JustifyCenter)
  root.SetPositionType(yoga.PositionTypeAbsolute)
  root.SetWidth(100)
  root.SetMinHeight(100)
  root.SetMaxHeight(200)

  root_child0 := yoga.NewNodeWithConfig(config)
  root_child0.SetWidth(60)
  root_child0.SetHeight(60)
  root.InsertChild(root_child0, 0)
  root.CalculateLayout(yoga.Undefined, yoga.Undefined, yoga.DirectionLTR)

  assert.Equal(t, 0, root.GetComputedLeft())
  assert.Equal(t, 0, root.GetComputedTop())
  assert.Equal(t, 100, root.GetComputedWidth())
  assert.Equal(t, 100, root.GetComputedHeight())

  assert.Equal(t, 0, root_child0.GetComputedLeft())
  assert.Equal(t, 20, root_child0.GetComputedTop())
  assert.Equal(t, 60, root_child0.GetComputedWidth())
  assert.Equal(t, 60, root_child0.GetComputedHeight())

  root.CalculateLayout(yoga.Undefined, yoga.Undefined, yoga.DirectionRTL)

  assert.Equal(t, 0, root.GetComputedLeft())
  assert.Equal(t, 0, root.GetComputedTop())
  assert.Equal(t, 100, root.GetComputedWidth())
  assert.Equal(t, 100, root.GetComputedHeight())

  assert.Equal(t, 40, root_child0.GetComputedLeft())
  assert.Equal(t, 20, root_child0.GetComputedTop())
  assert.Equal(t, 60, root_child0.GetComputedWidth())
  assert.Equal(t, 60, root_child0.GetComputedHeight())
  config.Destroy()
}

func TestAlignItemsMinMax(t *testing.T) {
  config := yoga.NewConfig()

  root := yoga.NewNodeWithConfig(config)
  root.SetAlignItems(yoga.AlignCenter)
  root.SetPositionType(yoga.PositionTypeAbsolute)
  root.SetMinWidth(100)
  root.SetMaxWidth(200)
  root.SetHeight(100)

  root_child0 := yoga.NewNodeWithConfig(config)
  root_child0.SetWidth(60)
  root_child0.SetHeight(60)
  root.InsertChild(root_child0, 0)
  root.CalculateLayout(yoga.Undefined, yoga.Undefined, yoga.DirectionLTR)

  assert.Equal(t, 0, root.GetComputedLeft())
  assert.Equal(t, 0, root.GetComputedTop())
  assert.Equal(t, 100, root.GetComputedWidth())
  assert.Equal(t, 100, root.GetComputedHeight())

  assert.Equal(t, 20, root_child0.GetComputedLeft())
  assert.Equal(t, 0, root_child0.GetComputedTop())
  assert.Equal(t, 60, root_child0.GetComputedWidth())
  assert.Equal(t, 60, root_child0.GetComputedHeight())

  root.CalculateLayout(yoga.Undefined, yoga.Undefined, yoga.DirectionRTL)

  assert.Equal(t, 0, root.GetComputedLeft())
  assert.Equal(t, 0, root.GetComputedTop())
  assert.Equal(t, 100, root.GetComputedWidth())
  assert.Equal(t, 100, root.GetComputedHeight())

  assert.Equal(t, 20, root_child0.GetComputedLeft())
  assert.Equal(t, 0, root_child0.GetComputedTop())
  assert.Equal(t, 60, root_child0.GetComputedWidth())
  assert.Equal(t, 60, root_child0.GetComputedHeight())
  config.Destroy()
}

func TestJustifyContentOverflowMinMax(t *testing.T) {
  config := yoga.NewConfig()

  root := yoga.NewNodeWithConfig(config)
  root.SetJustifyContent(yoga.JustifyCenter)
  root.SetPositionType(yoga.PositionTypeAbsolute)
  root.SetMinHeight(100)
  root.SetMaxHeight(110)

  root_child0 := yoga.NewNodeWithConfig(config)
  root_child0.SetWidth(50)
  root_child0.SetHeight(50)
  root.InsertChild(root_child0, 0)

  root_child1 := yoga.NewNodeWithConfig(config)
  root_child1.SetWidth(50)
  root_child1.SetHeight(50)
  root.InsertChild(root_child1, 1)

  root_child2 := yoga.NewNodeWithConfig(config)
  root_child2.SetWidth(50)
  root_child2.SetHeight(50)
  root.InsertChild(root_child2, 2)
  root.CalculateLayout(yoga.Undefined, yoga.Undefined, yoga.DirectionLTR)

  assert.Equal(t, 0, root.GetComputedLeft())
  assert.Equal(t, 0, root.GetComputedTop())
  assert.Equal(t, 50, root.GetComputedWidth())
  assert.Equal(t, 110, root.GetComputedHeight())

  assert.Equal(t, 0, root_child0.GetComputedLeft())
  assert.Equal(t, -20, root_child0.GetComputedTop())
  assert.Equal(t, 50, root_child0.GetComputedWidth())
  assert.Equal(t, 50, root_child0.GetComputedHeight())

  assert.Equal(t, 0, root_child1.GetComputedLeft())
  assert.Equal(t, 30, root_child1.GetComputedTop())
  assert.Equal(t, 50, root_child1.GetComputedWidth())
  assert.Equal(t, 50, root_child1.GetComputedHeight())

  assert.Equal(t, 0, root_child2.GetComputedLeft())
  assert.Equal(t, 80, root_child2.GetComputedTop())
  assert.Equal(t, 50, root_child2.GetComputedWidth())
  assert.Equal(t, 50, root_child2.GetComputedHeight())

  root.CalculateLayout(yoga.Undefined, yoga.Undefined, yoga.DirectionRTL)

  assert.Equal(t, 0, root.GetComputedLeft())
  assert.Equal(t, 0, root.GetComputedTop())
  assert.Equal(t, 50, root.GetComputedWidth())
  assert.Equal(t, 110, root.GetComputedHeight())

  assert.Equal(t, 0, root_child0.GetComputedLeft())
  assert.Equal(t, -20, root_child0.GetComputedTop())
  assert.Equal(t, 50, root_child0.GetComputedWidth())
  assert.Equal(t, 50, root_child0.GetComputedHeight())

  assert.Equal(t, 0, root_child1.GetComputedLeft())
  assert.Equal(t, 30, root_child1.GetComputedTop())
  assert.Equal(t, 50, root_child1.GetComputedWidth())
  assert.Equal(t, 50, root_child1.GetComputedHeight())

  assert.Equal(t, 0, root_child2.GetComputedLeft())
  assert.Equal(t, 80, root_child2.GetComputedTop())
  assert.Equal(t, 50, root_child2.GetComputedWidth())
  assert.Equal(t, 50, root_child2.GetComputedHeight())
  config.Destroy()
}

func TestFlexGrowToMin(t *testing.T) {
  config := yoga.NewConfig()

  root := yoga.NewNodeWithConfig(config)
  root.SetPositionType(yoga.PositionTypeAbsolute)
  root.SetWidth(100)
  root.SetMinHeight(100)
  root.SetMaxHeight(500)

  root_child0 := yoga.NewNodeWithConfig(config)
  root_child0.SetFlexGrow(1)
  root_child0.SetFlexShrink(1)
  root.InsertChild(root_child0, 0)

  root_child1 := yoga.NewNodeWithConfig(config)
  root_child1.SetHeight(50)
  root.InsertChild(root_child1, 1)
  root.CalculateLayout(yoga.Undefined, yoga.Undefined, yoga.DirectionLTR)

  assert.Equal(t, 0, root.GetComputedLeft())
  assert.Equal(t, 0, root.GetComputedTop())
  assert.Equal(t, 100, root.GetComputedWidth())
  assert.Equal(t, 100, root.GetComputedHeight())

  assert.Equal(t, 0, root_child0.GetComputedLeft())
  assert.Equal(t, 0, root_child0.GetComputedTop())
  assert.Equal(t, 100, root_child0.GetComputedWidth())
  assert.Equal(t, 50, root_child0.GetComputedHeight())

  assert.Equal(t, 0, root_child1.GetComputedLeft())
  assert.Equal(t, 50, root_child1.GetComputedTop())
  assert.Equal(t, 100, root_child1.GetComputedWidth())
  assert.Equal(t, 50, root_child1.GetComputedHeight())

  root.CalculateLayout(yoga.Undefined, yoga.Undefined, yoga.DirectionRTL)

  assert.Equal(t, 0, root.GetComputedLeft())
  assert.Equal(t, 0, root.GetComputedTop())
  assert.Equal(t, 100, root.GetComputedWidth())
  assert.Equal(t, 100, root.GetComputedHeight())

  assert.Equal(t, 0, root_child0.GetComputedLeft())
  assert.Equal(t, 0, root_child0.GetComputedTop())
  assert.Equal(t, 100, root_child0.GetComputedWidth())
  assert.Equal(t, 50, root_child0.GetComputedHeight())

  assert.Equal(t, 0, root_child1.GetComputedLeft())
  assert.Equal(t, 50, root_child1.GetComputedTop())
  assert.Equal(t, 100, root_child1.GetComputedWidth())
  assert.Equal(t, 50, root_child1.GetComputedHeight())
  config.Destroy()
}

func TestFlexGrowInAtMostContainer(t *testing.T) {
  config := yoga.NewConfig()

  root := yoga.NewNodeWithConfig(config)
  root.SetFlexDirection(yoga.FlexDirectionRow)
  root.SetAlignItems(yoga.AlignFlexStart)
  root.SetPositionType(yoga.PositionTypeAbsolute)
  root.SetWidth(100)
  root.SetHeight(100)

  root_child0 := yoga.NewNodeWithConfig(config)
  root_child0.SetFlexDirection(yoga.FlexDirectionRow)
  root.InsertChild(root_child0, 0)

  root_child0_child0 := yoga.NewNodeWithConfig(config)
  root_child0_child0.SetFlexGrow(1)
  root_child0_child0.SetFlexBasis(0)
  root_child0.InsertChild(root_child0_child0, 0)
  root.CalculateLayout(yoga.Undefined, yoga.Undefined, yoga.DirectionLTR)

  assert.Equal(t, 0, root.GetComputedLeft())
  assert.Equal(t, 0, root.GetComputedTop())
  assert.Equal(t, 100, root.GetComputedWidth())
  assert.Equal(t, 100, root.GetComputedHeight())

  assert.Equal(t, 0, root_child0.GetComputedLeft())
  assert.Equal(t, 0, root_child0.GetComputedTop())
  assert.Equal(t, 0, root_child0.GetComputedWidth())
  assert.Equal(t, 0, root_child0.GetComputedHeight())

  assert.Equal(t, 0, root_child0_child0.GetComputedLeft())
  assert.Equal(t, 0, root_child0_child0.GetComputedTop())
  assert.Equal(t, 0, root_child0_child0.GetComputedWidth())
  assert.Equal(t, 0, root_child0_child0.GetComputedHeight())

  root.CalculateLayout(yoga.Undefined, yoga.Undefined, yoga.DirectionRTL)

  assert.Equal(t, 0, root.GetComputedLeft())
  assert.Equal(t, 0, root.GetComputedTop())
  assert.Equal(t, 100, root.GetComputedWidth())
  assert.Equal(t, 100, root.GetComputedHeight())

  assert.Equal(t, 100, root_child0.GetComputedLeft())
  assert.Equal(t, 0, root_child0.GetComputedTop())
  assert.Equal(t, 0, root_child0.GetComputedWidth())
  assert.Equal(t, 0, root_child0.GetComputedHeight())

  assert.Equal(t, 0, root_child0_child0.GetComputedLeft())
  assert.Equal(t, 0, root_child0_child0.GetComputedTop())
  assert.Equal(t, 0, root_child0_child0.GetComputedWidth())
  assert.Equal(t, 0, root_child0_child0.GetComputedHeight())
  config.Destroy()
}

func TestFlexGrowChild(t *testing.T) {
  config := yoga.NewConfig()

  root := yoga.NewNodeWithConfig(config)
  root.SetFlexDirection(yoga.FlexDirectionRow)
  root.SetPositionType(yoga.PositionTypeAbsolute)

  root_child0 := yoga.NewNodeWithConfig(config)
  root_child0.SetFlexGrow(1)
  root_child0.SetFlexBasis(0)
  root_child0.SetHeight(100)
  root.InsertChild(root_child0, 0)
  root.CalculateLayout(yoga.Undefined, yoga.Undefined, yoga.DirectionLTR)

  assert.Equal(t, 0, root.GetComputedLeft())
  assert.Equal(t, 0, root.GetComputedTop())
  assert.Equal(t, 0, root.GetComputedWidth())
  assert.Equal(t, 100, root.GetComputedHeight())

  assert.Equal(t, 0, root_child0.GetComputedLeft())
  assert.Equal(t, 0, root_child0.GetComputedTop())
  assert.Equal(t, 0, root_child0.GetComputedWidth())
  assert.Equal(t, 100, root_child0.GetComputedHeight())

  root.CalculateLayout(yoga.Undefined, yoga.Undefined, yoga.DirectionRTL)

  assert.Equal(t, 0, root.GetComputedLeft())
  assert.Equal(t, 0, root.GetComputedTop())
  assert.Equal(t, 0, root.GetComputedWidth())
  assert.Equal(t, 100, root.GetComputedHeight())

  assert.Equal(t, 0, root_child0.GetComputedLeft())
  assert.Equal(t, 0, root_child0.GetComputedTop())
  assert.Equal(t, 0, root_child0.GetComputedWidth())
  assert.Equal(t, 100, root_child0.GetComputedHeight())
  config.Destroy()
}

func TestFlexGrowWithinConstrainedMinMaxColumn(t *testing.T) {
  config := yoga.NewConfig()

  root := yoga.NewNodeWithConfig(config)
  root.SetPositionType(yoga.PositionTypeAbsolute)
  root.SetMinHeight(100)
  root.SetMaxHeight(200)

  root_child0 := yoga.NewNodeWithConfig(config)
  root_child0.SetFlexGrow(1)
  root.InsertChild(root_child0, 0)

  root_child1 := yoga.NewNodeWithConfig(config)
  root_child1.SetHeight(50)
  root.InsertChild(root_child1, 1)
  root.CalculateLayout(yoga.Undefined, yoga.Undefined, yoga.DirectionLTR)

  assert.Equal(t, 0, root.GetComputedLeft())
  assert.Equal(t, 0, root.GetComputedTop())
  assert.Equal(t, 0, root.GetComputedWidth())
  assert.Equal(t, 100, root.GetComputedHeight())

  assert.Equal(t, 0, root_child0.GetComputedLeft())
  assert.Equal(t, 0, root_child0.GetComputedTop())
  assert.Equal(t, 0, root_child0.GetComputedWidth())
  assert.Equal(t, 50, root_child0.GetComputedHeight())

  assert.Equal(t, 0, root_child1.GetComputedLeft())
  assert.Equal(t, 50, root_child1.GetComputedTop())
  assert.Equal(t, 0, root_child1.GetComputedWidth())
  assert.Equal(t, 50, root_child1.GetComputedHeight())

  root.CalculateLayout(yoga.Undefined, yoga.Undefined, yoga.DirectionRTL)

  assert.Equal(t, 0, root.GetComputedLeft())
  assert.Equal(t, 0, root.GetComputedTop())
  assert.Equal(t, 0, root.GetComputedWidth())
  assert.Equal(t, 100, root.GetComputedHeight())

  assert.Equal(t, 0, root_child0.GetComputedLeft())
  assert.Equal(t, 0, root_child0.GetComputedTop())
  assert.Equal(t, 0, root_child0.GetComputedWidth())
  assert.Equal(t, 50, root_child0.GetComputedHeight())

  assert.Equal(t, 0, root_child1.GetComputedLeft())
  assert.Equal(t, 50, root_child1.GetComputedTop())
  assert.Equal(t, 0, root_child1.GetComputedWidth())
  assert.Equal(t, 50, root_child1.GetComputedHeight())
  config.Destroy()
}

func TestFlexGrowWithinMaxWidth(t *testing.T) {
  config := yoga.NewConfig()

  root := yoga.NewNodeWithConfig(config)
  root.SetPositionType(yoga.PositionTypeAbsolute)
  root.SetWidth(200)
  root.SetHeight(100)

  root_child0 := yoga.NewNodeWithConfig(config)
  root_child0.SetFlexDirection(yoga.FlexDirectionRow)
  root_child0.SetMaxWidth(100)
  root.InsertChild(root_child0, 0)

  root_child0_child0 := yoga.NewNodeWithConfig(config)
  root_child0_child0.SetFlexGrow(1)
  root_child0_child0.SetHeight(20)
  root_child0.InsertChild(root_child0_child0, 0)
  root.CalculateLayout(yoga.Undefined, yoga.Undefined, yoga.DirectionLTR)

  assert.Equal(t, 0, root.GetComputedLeft())
  assert.Equal(t, 0, root.GetComputedTop())
  assert.Equal(t, 200, root.GetComputedWidth())
  assert.Equal(t, 100, root.GetComputedHeight())

  assert.Equal(t, 0, root_child0.GetComputedLeft())
  assert.Equal(t, 0, root_child0.GetComputedTop())
  assert.Equal(t, 100, root_child0.GetComputedWidth())
  assert.Equal(t, 20, root_child0.GetComputedHeight())

  assert.Equal(t, 0, root_child0_child0.GetComputedLeft())
  assert.Equal(t, 0, root_child0_child0.GetComputedTop())
  assert.Equal(t, 100, root_child0_child0.GetComputedWidth())
  assert.Equal(t, 20, root_child0_child0.GetComputedHeight())

  root.CalculateLayout(yoga.Undefined, yoga.Undefined, yoga.DirectionRTL)

  assert.Equal(t, 0, root.GetComputedLeft())
  assert.Equal(t, 0, root.GetComputedTop())
  assert.Equal(t, 200, root.GetComputedWidth())
  assert.Equal(t, 100, root.GetComputedHeight())

  assert.Equal(t, 100, root_child0.GetComputedLeft())
  assert.Equal(t, 0, root_child0.GetComputedTop())
  assert.Equal(t, 100, root_child0.GetComputedWidth())
  assert.Equal(t, 20, root_child0.GetComputedHeight())

  assert.Equal(t, 0, root_child0_child0.GetComputedLeft())
  assert.Equal(t, 0, root_child0_child0.GetComputedTop())
  assert.Equal(t, 100, root_child0_child0.GetComputedWidth())
  assert.Equal(t, 20, root_child0_child0.GetComputedHeight())
  config.Destroy()
}

func TestFlexGrowWithinConstrainedMaxWidth(t *testing.T) {
  config := yoga.NewConfig()

  root := yoga.NewNodeWithConfig(config)
  root.SetPositionType(yoga.PositionTypeAbsolute)
  root.SetWidth(200)
  root.SetHeight(100)

  root_child0 := yoga.NewNodeWithConfig(config)
  root_child0.SetFlexDirection(yoga.FlexDirectionRow)
  root_child0.SetMaxWidth(300)
  root.InsertChild(root_child0, 0)

  root_child0_child0 := yoga.NewNodeWithConfig(config)
  root_child0_child0.SetFlexGrow(1)
  root_child0_child0.SetHeight(20)
  root_child0.InsertChild(root_child0_child0, 0)
  root.CalculateLayout(yoga.Undefined, yoga.Undefined, yoga.DirectionLTR)

  assert.Equal(t, 0, root.GetComputedLeft())
  assert.Equal(t, 0, root.GetComputedTop())
  assert.Equal(t, 200, root.GetComputedWidth())
  assert.Equal(t, 100, root.GetComputedHeight())

  assert.Equal(t, 0, root_child0.GetComputedLeft())
  assert.Equal(t, 0, root_child0.GetComputedTop())
  assert.Equal(t, 200, root_child0.GetComputedWidth())
  assert.Equal(t, 20, root_child0.GetComputedHeight())

  assert.Equal(t, 0, root_child0_child0.GetComputedLeft())
  assert.Equal(t, 0, root_child0_child0.GetComputedTop())
  assert.Equal(t, 200, root_child0_child0.GetComputedWidth())
  assert.Equal(t, 20, root_child0_child0.GetComputedHeight())

  root.CalculateLayout(yoga.Undefined, yoga.Undefined, yoga.DirectionRTL)

  assert.Equal(t, 0, root.GetComputedLeft())
  assert.Equal(t, 0, root.GetComputedTop())
  assert.Equal(t, 200, root.GetComputedWidth())
  assert.Equal(t, 100, root.GetComputedHeight())

  assert.Equal(t, 0, root_child0.GetComputedLeft())
  assert.Equal(t, 0, root_child0.GetComputedTop())
  assert.Equal(t, 200, root_child0.GetComputedWidth())
  assert.Equal(t, 20, root_child0.GetComputedHeight())

  assert.Equal(t, 0, root_child0_child0.GetComputedLeft())
  assert.Equal(t, 0, root_child0_child0.GetComputedTop())
  assert.Equal(t, 200, root_child0_child0.GetComputedWidth())
  assert.Equal(t, 20, root_child0_child0.GetComputedHeight())
  config.Destroy()
}

func TestFlexRootIgnored(t *testing.T) {
  config := yoga.NewConfig()

  root := yoga.NewNodeWithConfig(config)
  root.SetPositionType(yoga.PositionTypeAbsolute)
  root.SetFlexGrow(1)
  root.SetWidth(100)
  root.SetMinHeight(100)
  root.SetMaxHeight(500)

  root_child0 := yoga.NewNodeWithConfig(config)
  root_child0.SetFlexGrow(1)
  root_child0.SetFlexBasis(200)
  root.InsertChild(root_child0, 0)

  root_child1 := yoga.NewNodeWithConfig(config)
  root_child1.SetHeight(100)
  root.InsertChild(root_child1, 1)
  root.CalculateLayout(yoga.Undefined, yoga.Undefined, yoga.DirectionLTR)

  assert.Equal(t, 0, root.GetComputedLeft())
  assert.Equal(t, 0, root.GetComputedTop())
  assert.Equal(t, 100, root.GetComputedWidth())
  assert.Equal(t, 300, root.GetComputedHeight())

  assert.Equal(t, 0, root_child0.GetComputedLeft())
  assert.Equal(t, 0, root_child0.GetComputedTop())
  assert.Equal(t, 100, root_child0.GetComputedWidth())
  assert.Equal(t, 200, root_child0.GetComputedHeight())

  assert.Equal(t, 0, root_child1.GetComputedLeft())
  assert.Equal(t, 200, root_child1.GetComputedTop())
  assert.Equal(t, 100, root_child1.GetComputedWidth())
  assert.Equal(t, 100, root_child1.GetComputedHeight())

  root.CalculateLayout(yoga.Undefined, yoga.Undefined, yoga.DirectionRTL)

  assert.Equal(t, 0, root.GetComputedLeft())
  assert.Equal(t, 0, root.GetComputedTop())
  assert.Equal(t, 100, root.GetComputedWidth())
  assert.Equal(t, 300, root.GetComputedHeight())

  assert.Equal(t, 0, root_child0.GetComputedLeft())
  assert.Equal(t, 0, root_child0.GetComputedTop())
  assert.Equal(t, 100, root_child0.GetComputedWidth())
  assert.Equal(t, 200, root_child0.GetComputedHeight())

  assert.Equal(t, 0, root_child1.GetComputedLeft())
  assert.Equal(t, 200, root_child1.GetComputedTop())
  assert.Equal(t, 100, root_child1.GetComputedWidth())
  assert.Equal(t, 100, root_child1.GetComputedHeight())
  config.Destroy()
}

func TestFlexGrowRootMinimized(t *testing.T) {
  config := yoga.NewConfig()

  root := yoga.NewNodeWithConfig(config)
  root.SetPositionType(yoga.PositionTypeAbsolute)
  root.SetWidth(100)
  root.SetMinHeight(100)
  root.SetMaxHeight(500)

  root_child0 := yoga.NewNodeWithConfig(config)
  root_child0.SetFlexGrow(1)
  root_child0.SetMinHeight(100)
  root_child0.SetMaxHeight(500)
  root.InsertChild(root_child0, 0)

  root_child0_child0 := yoga.NewNodeWithConfig(config)
  root_child0_child0.SetFlexGrow(1)
  root_child0_child0.SetFlexBasis(200)
  root_child0.InsertChild(root_child0_child0, 0)

  root_child0_child1 := yoga.NewNodeWithConfig(config)
  root_child0_child1.SetHeight(100)
  root_child0.InsertChild(root_child0_child1, 1)
  root.CalculateLayout(yoga.Undefined, yoga.Undefined, yoga.DirectionLTR)

  assert.Equal(t, 0, root.GetComputedLeft())
  assert.Equal(t, 0, root.GetComputedTop())
  assert.Equal(t, 100, root.GetComputedWidth())
  assert.Equal(t, 300, root.GetComputedHeight())

  assert.Equal(t, 0, root_child0.GetComputedLeft())
  assert.Equal(t, 0, root_child0.GetComputedTop())
  assert.Equal(t, 100, root_child0.GetComputedWidth())
  assert.Equal(t, 300, root_child0.GetComputedHeight())

  assert.Equal(t, 0, root_child0_child0.GetComputedLeft())
  assert.Equal(t, 0, root_child0_child0.GetComputedTop())
  assert.Equal(t, 100, root_child0_child0.GetComputedWidth())
  assert.Equal(t, 200, root_child0_child0.GetComputedHeight())

  assert.Equal(t, 0, root_child0_child1.GetComputedLeft())
  assert.Equal(t, 200, root_child0_child1.GetComputedTop())
  assert.Equal(t, 100, root_child0_child1.GetComputedWidth())
  assert.Equal(t, 100, root_child0_child1.GetComputedHeight())

  root.CalculateLayout(yoga.Undefined, yoga.Undefined, yoga.DirectionRTL)

  assert.Equal(t, 0, root.GetComputedLeft())
  assert.Equal(t, 0, root.GetComputedTop())
  assert.Equal(t, 100, root.GetComputedWidth())
  assert.Equal(t, 300, root.GetComputedHeight())

  assert.Equal(t, 0, root_child0.GetComputedLeft())
  assert.Equal(t, 0, root_child0.GetComputedTop())
  assert.Equal(t, 100, root_child0.GetComputedWidth())
  assert.Equal(t, 300, root_child0.GetComputedHeight())

  assert.Equal(t, 0, root_child0_child0.GetComputedLeft())
  assert.Equal(t, 0, root_child0_child0.GetComputedTop())
  assert.Equal(t, 100, root_child0_child0.GetComputedWidth())
  assert.Equal(t, 200, root_child0_child0.GetComputedHeight())

  assert.Equal(t, 0, root_child0_child1.GetComputedLeft())
  assert.Equal(t, 200, root_child0_child1.GetComputedTop())
  assert.Equal(t, 100, root_child0_child1.GetComputedWidth())
  assert.Equal(t, 100, root_child0_child1.GetComputedHeight())
  config.Destroy()
}

func TestFlexGrowHeightMaximized(t *testing.T) {
  config := yoga.NewConfig()

  root := yoga.NewNodeWithConfig(config)
  root.SetPositionType(yoga.PositionTypeAbsolute)
  root.SetWidth(100)
  root.SetHeight(500)

  root_child0 := yoga.NewNodeWithConfig(config)
  root_child0.SetFlexGrow(1)
  root_child0.SetMinHeight(100)
  root_child0.SetMaxHeight(500)
  root.InsertChild(root_child0, 0)

  root_child0_child0 := yoga.NewNodeWithConfig(config)
  root_child0_child0.SetFlexGrow(1)
  root_child0_child0.SetFlexBasis(200)
  root_child0.InsertChild(root_child0_child0, 0)

  root_child0_child1 := yoga.NewNodeWithConfig(config)
  root_child0_child1.SetHeight(100)
  root_child0.InsertChild(root_child0_child1, 1)
  root.CalculateLayout(yoga.Undefined, yoga.Undefined, yoga.DirectionLTR)

  assert.Equal(t, 0, root.GetComputedLeft())
  assert.Equal(t, 0, root.GetComputedTop())
  assert.Equal(t, 100, root.GetComputedWidth())
  assert.Equal(t, 500, root.GetComputedHeight())

  assert.Equal(t, 0, root_child0.GetComputedLeft())
  assert.Equal(t, 0, root_child0.GetComputedTop())
  assert.Equal(t, 100, root_child0.GetComputedWidth())
  assert.Equal(t, 500, root_child0.GetComputedHeight())

  assert.Equal(t, 0, root_child0_child0.GetComputedLeft())
  assert.Equal(t, 0, root_child0_child0.GetComputedTop())
  assert.Equal(t, 100, root_child0_child0.GetComputedWidth())
  assert.Equal(t, 400, root_child0_child0.GetComputedHeight())

  assert.Equal(t, 0, root_child0_child1.GetComputedLeft())
  assert.Equal(t, 400, root_child0_child1.GetComputedTop())
  assert.Equal(t, 100, root_child0_child1.GetComputedWidth())
  assert.Equal(t, 100, root_child0_child1.GetComputedHeight())

  root.CalculateLayout(yoga.Undefined, yoga.Undefined, yoga.DirectionRTL)

  assert.Equal(t, 0, root.GetComputedLeft())
  assert.Equal(t, 0, root.GetComputedTop())
  assert.Equal(t, 100, root.GetComputedWidth())
  assert.Equal(t, 500, root.GetComputedHeight())

  assert.Equal(t, 0, root_child0.GetComputedLeft())
  assert.Equal(t, 0, root_child0.GetComputedTop())
  assert.Equal(t, 100, root_child0.GetComputedWidth())
  assert.Equal(t, 500, root_child0.GetComputedHeight())

  assert.Equal(t, 0, root_child0_child0.GetComputedLeft())
  assert.Equal(t, 0, root_child0_child0.GetComputedTop())
  assert.Equal(t, 100, root_child0_child0.GetComputedWidth())
  assert.Equal(t, 400, root_child0_child0.GetComputedHeight())

  assert.Equal(t, 0, root_child0_child1.GetComputedLeft())
  assert.Equal(t, 400, root_child0_child1.GetComputedTop())
  assert.Equal(t, 100, root_child0_child1.GetComputedWidth())
  assert.Equal(t, 100, root_child0_child1.GetComputedHeight())
  config.Destroy()
}

func TestFlexGrowWithinConstrainedMinRow(t *testing.T) {
  config := yoga.NewConfig()

  root := yoga.NewNodeWithConfig(config)
  root.SetFlexDirection(yoga.FlexDirectionRow)
  root.SetPositionType(yoga.PositionTypeAbsolute)
  root.SetMinWidth(100)
  root.SetHeight(100)

  root_child0 := yoga.NewNodeWithConfig(config)
  root_child0.SetFlexGrow(1)
  root.InsertChild(root_child0, 0)

  root_child1 := yoga.NewNodeWithConfig(config)
  root_child1.SetWidth(50)
  root.InsertChild(root_child1, 1)
  root.CalculateLayout(yoga.Undefined, yoga.Undefined, yoga.DirectionLTR)

  assert.Equal(t, 0, root.GetComputedLeft())
  assert.Equal(t, 0, root.GetComputedTop())
  assert.Equal(t, 100, root.GetComputedWidth())
  assert.Equal(t, 100, root.GetComputedHeight())

  assert.Equal(t, 0, root_child0.GetComputedLeft())
  assert.Equal(t, 0, root_child0.GetComputedTop())
  assert.Equal(t, 50, root_child0.GetComputedWidth())
  assert.Equal(t, 100, root_child0.GetComputedHeight())

  assert.Equal(t, 50, root_child1.GetComputedLeft())
  assert.Equal(t, 0, root_child1.GetComputedTop())
  assert.Equal(t, 50, root_child1.GetComputedWidth())
  assert.Equal(t, 100, root_child1.GetComputedHeight())

  root.CalculateLayout(yoga.Undefined, yoga.Undefined, yoga.DirectionRTL)

  assert.Equal(t, 0, root.GetComputedLeft())
  assert.Equal(t, 0, root.GetComputedTop())
  assert.Equal(t, 100, root.GetComputedWidth())
  assert.Equal(t, 100, root.GetComputedHeight())

  assert.Equal(t, 50, root_child0.GetComputedLeft())
  assert.Equal(t, 0, root_child0.GetComputedTop())
  assert.Equal(t, 50, root_child0.GetComputedWidth())
  assert.Equal(t, 100, root_child0.GetComputedHeight())

  assert.Equal(t, 0, root_child1.GetComputedLeft())
  assert.Equal(t, 0, root_child1.GetComputedTop())
  assert.Equal(t, 50, root_child1.GetComputedWidth())
  assert.Equal(t, 100, root_child1.GetComputedHeight())
  config.Destroy()
}

func TestFlexGrowWithinConstrainedMinColumn(t *testing.T) {
  config := yoga.NewConfig()

  root := yoga.NewNodeWithConfig(config)
  root.SetPositionType(yoga.PositionTypeAbsolute)
  root.SetMinHeight(100)

  root_child0 := yoga.NewNodeWithConfig(config)
  root_child0.SetFlexGrow(1)
  root.InsertChild(root_child0, 0)

  root_child1 := yoga.NewNodeWithConfig(config)
  root_child1.SetHeight(50)
  root.InsertChild(root_child1, 1)
  root.CalculateLayout(yoga.Undefined, yoga.Undefined, yoga.DirectionLTR)

  assert.Equal(t, 0, root.GetComputedLeft())
  assert.Equal(t, 0, root.GetComputedTop())
  assert.Equal(t, 0, root.GetComputedWidth())
  assert.Equal(t, 100, root.GetComputedHeight())

  assert.Equal(t, 0, root_child0.GetComputedLeft())
  assert.Equal(t, 0, root_child0.GetComputedTop())
  assert.Equal(t, 0, root_child0.GetComputedWidth())
  assert.Equal(t, 50, root_child0.GetComputedHeight())

  assert.Equal(t, 0, root_child1.GetComputedLeft())
  assert.Equal(t, 50, root_child1.GetComputedTop())
  assert.Equal(t, 0, root_child1.GetComputedWidth())
  assert.Equal(t, 50, root_child1.GetComputedHeight())

  root.CalculateLayout(yoga.Undefined, yoga.Undefined, yoga.DirectionRTL)

  assert.Equal(t, 0, root.GetComputedLeft())
  assert.Equal(t, 0, root.GetComputedTop())
  assert.Equal(t, 0, root.GetComputedWidth())
  assert.Equal(t, 100, root.GetComputedHeight())

  assert.Equal(t, 0, root_child0.GetComputedLeft())
  assert.Equal(t, 0, root_child0.GetComputedTop())
  assert.Equal(t, 0, root_child0.GetComputedWidth())
  assert.Equal(t, 50, root_child0.GetComputedHeight())

  assert.Equal(t, 0, root_child1.GetComputedLeft())
  assert.Equal(t, 50, root_child1.GetComputedTop())
  assert.Equal(t, 0, root_child1.GetComputedWidth())
  assert.Equal(t, 50, root_child1.GetComputedHeight())
  config.Destroy()
}

func TestFlexGrowWithinConstrainedMaxRow(t *testing.T) {
  config := yoga.NewConfig()

  root := yoga.NewNodeWithConfig(config)
  root.SetPositionType(yoga.PositionTypeAbsolute)
  root.SetWidth(200)

  root_child0 := yoga.NewNodeWithConfig(config)
  root_child0.SetFlexDirection(yoga.FlexDirectionRow)
  root_child0.SetMaxWidth(100)
  root_child0.SetHeight(100)
  root.InsertChild(root_child0, 0)

  root_child0_child0 := yoga.NewNodeWithConfig(config)
  root_child0_child0.SetFlexShrink(1)
  root_child0_child0.SetFlexBasis(100)
  root_child0.InsertChild(root_child0_child0, 0)

  root_child0_child1 := yoga.NewNodeWithConfig(config)
  root_child0_child1.SetWidth(50)
  root_child0.InsertChild(root_child0_child1, 1)
  root.CalculateLayout(yoga.Undefined, yoga.Undefined, yoga.DirectionLTR)

  assert.Equal(t, 0, root.GetComputedLeft())
  assert.Equal(t, 0, root.GetComputedTop())
  assert.Equal(t, 200, root.GetComputedWidth())
  assert.Equal(t, 100, root.GetComputedHeight())

  assert.Equal(t, 0, root_child0.GetComputedLeft())
  assert.Equal(t, 0, root_child0.GetComputedTop())
  assert.Equal(t, 100, root_child0.GetComputedWidth())
  assert.Equal(t, 100, root_child0.GetComputedHeight())

  assert.Equal(t, 0, root_child0_child0.GetComputedLeft())
  assert.Equal(t, 0, root_child0_child0.GetComputedTop())
  assert.Equal(t, 50, root_child0_child0.GetComputedWidth())
  assert.Equal(t, 100, root_child0_child0.GetComputedHeight())

  assert.Equal(t, 50, root_child0_child1.GetComputedLeft())
  assert.Equal(t, 0, root_child0_child1.GetComputedTop())
  assert.Equal(t, 50, root_child0_child1.GetComputedWidth())
  assert.Equal(t, 100, root_child0_child1.GetComputedHeight())

  root.CalculateLayout(yoga.Undefined, yoga.Undefined, yoga.DirectionRTL)

  assert.Equal(t, 0, root.GetComputedLeft())
  assert.Equal(t, 0, root.GetComputedTop())
  assert.Equal(t, 200, root.GetComputedWidth())
  assert.Equal(t, 100, root.GetComputedHeight())

  assert.Equal(t, 100, root_child0.GetComputedLeft())
  assert.Equal(t, 0, root_child0.GetComputedTop())
  assert.Equal(t, 100, root_child0.GetComputedWidth())
  assert.Equal(t, 100, root_child0.GetComputedHeight())

  assert.Equal(t, 50, root_child0_child0.GetComputedLeft())
  assert.Equal(t, 0, root_child0_child0.GetComputedTop())
  assert.Equal(t, 50, root_child0_child0.GetComputedWidth())
  assert.Equal(t, 100, root_child0_child0.GetComputedHeight())

  assert.Equal(t, 0, root_child0_child1.GetComputedLeft())
  assert.Equal(t, 0, root_child0_child1.GetComputedTop())
  assert.Equal(t, 50, root_child0_child1.GetComputedWidth())
  assert.Equal(t, 100, root_child0_child1.GetComputedHeight())
  config.Destroy()
}

func TestFlexGrowWithinConstrainedMaxColumn(t *testing.T) {
  config := yoga.NewConfig()

  root := yoga.NewNodeWithConfig(config)
  root.SetPositionType(yoga.PositionTypeAbsolute)
  root.SetWidth(100)
  root.SetMaxHeight(100)

  root_child0 := yoga.NewNodeWithConfig(config)
  root_child0.SetFlexShrink(1)
  root_child0.SetFlexBasis(100)
  root.InsertChild(root_child0, 0)

  root_child1 := yoga.NewNodeWithConfig(config)
  root_child1.SetHeight(50)
  root.InsertChild(root_child1, 1)
  root.CalculateLayout(yoga.Undefined, yoga.Undefined, yoga.DirectionLTR)

  assert.Equal(t, 0, root.GetComputedLeft())
  assert.Equal(t, 0, root.GetComputedTop())
  assert.Equal(t, 100, root.GetComputedWidth())
  assert.Equal(t, 100, root.GetComputedHeight())

  assert.Equal(t, 0, root_child0.GetComputedLeft())
  assert.Equal(t, 0, root_child0.GetComputedTop())
  assert.Equal(t, 100, root_child0.GetComputedWidth())
  assert.Equal(t, 50, root_child0.GetComputedHeight())

  assert.Equal(t, 0, root_child1.GetComputedLeft())
  assert.Equal(t, 50, root_child1.GetComputedTop())
  assert.Equal(t, 100, root_child1.GetComputedWidth())
  assert.Equal(t, 50, root_child1.GetComputedHeight())

  root.CalculateLayout(yoga.Undefined, yoga.Undefined, yoga.DirectionRTL)

  assert.Equal(t, 0, root.GetComputedLeft())
  assert.Equal(t, 0, root.GetComputedTop())
  assert.Equal(t, 100, root.GetComputedWidth())
  assert.Equal(t, 100, root.GetComputedHeight())

  assert.Equal(t, 0, root_child0.GetComputedLeft())
  assert.Equal(t, 0, root_child0.GetComputedTop())
  assert.Equal(t, 100, root_child0.GetComputedWidth())
  assert.Equal(t, 50, root_child0.GetComputedHeight())

  assert.Equal(t, 0, root_child1.GetComputedLeft())
  assert.Equal(t, 50, root_child1.GetComputedTop())
  assert.Equal(t, 100, root_child1.GetComputedWidth())
  assert.Equal(t, 50, root_child1.GetComputedHeight())
  config.Destroy()
}

func TestChildMinMaxWidthFlexing(t *testing.T) {
  config := yoga.NewConfig()

  root := yoga.NewNodeWithConfig(config)
  root.SetFlexDirection(yoga.FlexDirectionRow)
  root.SetPositionType(yoga.PositionTypeAbsolute)
  root.SetWidth(120)
  root.SetHeight(50)

  root_child0 := yoga.NewNodeWithConfig(config)
  root_child0.SetFlexGrow(1)
  root_child0.SetFlexBasis(0)
  root_child0.SetMinWidth(60)
  root.InsertChild(root_child0, 0)

  root_child1 := yoga.NewNodeWithConfig(config)
  root_child1.SetFlexGrow(1)
  root_child1.SetFlexBasisPercent(50)
  root_child1.SetMaxWidth(20)
  root.InsertChild(root_child1, 1)
  root.CalculateLayout(yoga.Undefined, yoga.Undefined, yoga.DirectionLTR)

  assert.Equal(t, 0, root.GetComputedLeft())
  assert.Equal(t, 0, root.GetComputedTop())
  assert.Equal(t, 120, root.GetComputedWidth())
  assert.Equal(t, 50, root.GetComputedHeight())

  assert.Equal(t, 0, root_child0.GetComputedLeft())
  assert.Equal(t, 0, root_child0.GetComputedTop())
  assert.Equal(t, 100, root_child0.GetComputedWidth())
  assert.Equal(t, 50, root_child0.GetComputedHeight())

  assert.Equal(t, 100, root_child1.GetComputedLeft())
  assert.Equal(t, 0, root_child1.GetComputedTop())
  assert.Equal(t, 20, root_child1.GetComputedWidth())
  assert.Equal(t, 50, root_child1.GetComputedHeight())

  root.CalculateLayout(yoga.Undefined, yoga.Undefined, yoga.DirectionRTL)

  assert.Equal(t, 0, root.GetComputedLeft())
  assert.Equal(t, 0, root.GetComputedTop())
  assert.Equal(t, 120, root.GetComputedWidth())
  assert.Equal(t, 50, root.GetComputedHeight())

  assert.Equal(t, 20, root_child0.GetComputedLeft())
  assert.Equal(t, 0, root_child0.GetComputedTop())
  assert.Equal(t, 100, root_child0.GetComputedWidth())
  assert.Equal(t, 50, root_child0.GetComputedHeight())

  assert.Equal(t, 0, root_child1.GetComputedLeft())
  assert.Equal(t, 0, root_child1.GetComputedTop())
  assert.Equal(t, 20, root_child1.GetComputedWidth())
  assert.Equal(t, 50, root_child1.GetComputedHeight())
  config.Destroy()
}

func TestMinWidthOverridesWidth(t *testing.T) {
  config := yoga.NewConfig()

  root := yoga.NewNodeWithConfig(config)
  root.SetPositionType(yoga.PositionTypeAbsolute)
  root.SetWidth(50)
  root.SetMinWidth(100)
  root.CalculateLayout(yoga.Undefined, yoga.Undefined, yoga.DirectionLTR)

  assert.Equal(t, 0, root.GetComputedLeft())
  assert.Equal(t, 0, root.GetComputedTop())
  assert.Equal(t, 100, root.GetComputedWidth())
  assert.Equal(t, 0, root.GetComputedHeight())

  root.CalculateLayout(yoga.Undefined, yoga.Undefined, yoga.DirectionRTL)

  assert.Equal(t, 0, root.GetComputedLeft())
  assert.Equal(t, 0, root.GetComputedTop())
  assert.Equal(t, 100, root.GetComputedWidth())
  assert.Equal(t, 0, root.GetComputedHeight())
  config.Destroy()
}

func TestMaxWidthOverridesWidth(t *testing.T) {
  config := yoga.NewConfig()

  root := yoga.NewNodeWithConfig(config)
  root.SetPositionType(yoga.PositionTypeAbsolute)
  root.SetWidth(200)
  root.SetMaxWidth(100)
  root.CalculateLayout(yoga.Undefined, yoga.Undefined, yoga.DirectionLTR)

  assert.Equal(t, 0, root.GetComputedLeft())
  assert.Equal(t, 0, root.GetComputedTop())
  assert.Equal(t, 100, root.GetComputedWidth())
  assert.Equal(t, 0, root.GetComputedHeight())

  root.CalculateLayout(yoga.Undefined, yoga.Undefined, yoga.DirectionRTL)

  assert.Equal(t, 0, root.GetComputedLeft())
  assert.Equal(t, 0, root.GetComputedTop())
  assert.Equal(t, 100, root.GetComputedWidth())
  assert.Equal(t, 0, root.GetComputedHeight())
  config.Destroy()
}

func TestMinHeightOverridesHeight(t *testing.T) {
  config := yoga.NewConfig()

  root := yoga.NewNodeWithConfig(config)
  root.SetPositionType(yoga.PositionTypeAbsolute)
  root.SetHeight(50)
  root.SetMinHeight(100)
  root.CalculateLayout(yoga.Undefined, yoga.Undefined, yoga.DirectionLTR)

  assert.Equal(t, 0, root.GetComputedLeft())
  assert.Equal(t, 0, root.GetComputedTop())
  assert.Equal(t, 0, root.GetComputedWidth())
  assert.Equal(t, 100, root.GetComputedHeight())

  root.CalculateLayout(yoga.Undefined, yoga.Undefined, yoga.DirectionRTL)

  assert.Equal(t, 0, root.GetComputedLeft())
  assert.Equal(t, 0, root.GetComputedTop())
  assert.Equal(t, 0, root.GetComputedWidth())
  assert.Equal(t, 100, root.GetComputedHeight())
  config.Destroy()
}

func TestMaxHeightOverridesHeight(t *testing.T) {
  config := yoga.NewConfig()

  root := yoga.NewNodeWithConfig(config)
  root.SetPositionType(yoga.PositionTypeAbsolute)
  root.SetHeight(200)
  root.SetMaxHeight(100)
  root.CalculateLayout(yoga.Undefined, yoga.Undefined, yoga.DirectionLTR)

  assert.Equal(t, 0, root.GetComputedLeft())
  assert.Equal(t, 0, root.GetComputedTop())
  assert.Equal(t, 0, root.GetComputedWidth())
  assert.Equal(t, 100, root.GetComputedHeight())

  root.CalculateLayout(yoga.Undefined, yoga.Undefined, yoga.DirectionRTL)

  assert.Equal(t, 0, root.GetComputedLeft())
  assert.Equal(t, 0, root.GetComputedTop())
  assert.Equal(t, 0, root.GetComputedWidth())
  assert.Equal(t, 100, root.GetComputedHeight())
  config.Destroy()
}

func TestMinMaxPercentNoWidthHeight(t *testing.T) {
  config := yoga.NewConfig()

  root := yoga.NewNodeWithConfig(config)
  root.SetAlignItems(yoga.AlignFlexStart)
  root.SetPositionType(yoga.PositionTypeAbsolute)
  root.SetWidth(100)
  root.SetHeight(100)

  root_child0 := yoga.NewNodeWithConfig(config)
  root_child0.SetMinWidthPercent(10)
  root_child0.SetMaxWidthPercent(10)
  root_child0.SetMinHeightPercent(10)
  root_child0.SetMaxHeightPercent(10)
  root.InsertChild(root_child0, 0)
  root.CalculateLayout(yoga.Undefined, yoga.Undefined, yoga.DirectionLTR)

  assert.Equal(t, 0, root.GetComputedLeft())
  assert.Equal(t, 0, root.GetComputedTop())
  assert.Equal(t, 100, root.GetComputedWidth())
  assert.Equal(t, 100, root.GetComputedHeight())

  assert.Equal(t, 0, root_child0.GetComputedLeft())
  assert.Equal(t, 0, root_child0.GetComputedTop())
  assert.Equal(t, 10, root_child0.GetComputedWidth())
  assert.Equal(t, 10, root_child0.GetComputedHeight())

  root.CalculateLayout(yoga.Undefined, yoga.Undefined, yoga.DirectionRTL)

  assert.Equal(t, 0, root.GetComputedLeft())
  assert.Equal(t, 0, root.GetComputedTop())
  assert.Equal(t, 100, root.GetComputedWidth())
  assert.Equal(t, 100, root.GetComputedHeight())

  assert.Equal(t, 90, root_child0.GetComputedLeft())
  assert.Equal(t, 0, root_child0.GetComputedTop())
  assert.Equal(t, 10, root_child0.GetComputedWidth())
  assert.Equal(t, 10, root_child0.GetComputedHeight())
  config.Destroy()
}

